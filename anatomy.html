<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Anatomy of SF</title>

    <!-- Ajouter l'icÃ´ne avec le poisson dans l'onglet -->
    <link rel="icon" href="data:image/svg+xml;charset=UTF-8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16'><text x='0' y='14' font-size='14' fill='black'>ðŸŒ€</text></svg>" type="image/svg+xml">

    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 20px;
        }

        iframe {
            width: 480px;
            height: 360px;
            margin-bottom: 20px;
        }
   
        form {
            margin-bottom: 20px;
        }
        input[type="text"] {
            padding: 10px;
            font-size: 16px;
            width: 160px;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            margin-left: 10px;
            cursor: pointer;
        }

        footer {
            position: fixed;
            left: 0;
            bottom: 0;
            width: 98%;
            text-align: right;
            font-size: 10px;
            color: #000000;
            background-color: transparent;
            padding: 10px 0;
        }

    </style>
</head>

<body>
    <nav>
        <a href="index.html">Index</a>  
        <a href="passagedungeste.html">Passage dâ€™un geste</a>  
        <a href="archives.html">Archives</a>
        <a href="anatomy.html">Anatomy of SF</a>
    </nav>
    
    <h1>Anatomy of SF</h1>

    <p>Ã‰crivez en quelques mots, en une phrase votre idÃ©e de la fin du monde<br> 
      
    <div>
        <input type="text" id="wordInput" placeholder="Votre idÃ©e de la fin du monde">
        <button onclick="submitWord()">Entrer</button>
    </div>

    <script>
        // Ã‰couter "EntrÃ©e" dans le champ texte et exÃ©cuter la fonction du bouton
        document.addEventListener("DOMContentLoaded", function() { 
            const wordInput = document.getElementById("wordInput");

            wordInput.addEventListener("keydown", function(event) {
                if (event.key === "Enter") { // VÃ©rifie si "EntrÃ©e" est pressÃ©e
                    event.preventDefault(); // EmpÃªche le comportement par dÃ©faut
                    submitWord(); // Appelle directement la fonction du bouton
                }
            });
        });

        // Fonction pour envoyer les donnÃ©es Ã  Google Apps Script
        function submitWord() {
            const wordInput = document.getElementById("wordInput");
            const word = wordInput.value.trim();

            if (word !== "") {
                // RÃ©initialise immÃ©diatement le champ pour permettre de taper un autre mot
                wordInput.value = "";

                // Envoie les donnÃ©es Ã  Google Apps Script
                fetch('https://script.google.com/macros/s/AKfycbxiZyPrnbfF5oWn7F1jqxe-JJqAHuB_qtoEaucuJN6o3vidntooaitBSiXB1vHFQqbmOw/exec', {
                    method: 'POST',
                    body: new URLSearchParams({
                        'word': word
                    })
                })
                .then(response => response.text())
                .then(data => {
                    console.log(data);  // Affiche la rÃ©ponse du serveur
                })
                .catch(error => {
                    console.error("Erreur lors de l'envoi :", error);
                });
            } else {
                alert("Veuillez Ã©crire quelque chose avant de soumettre !");
            }
        }
    </script>
    
    <footer>
        Ambre Guidicelli Â© ArTeC 2024
    </footer>
</body>
</html>
